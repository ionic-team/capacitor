var t=Object.prototype.hasOwnProperty;function n(t,n){return t===n?0!==t||0!==n||1/t==1/n:t!=t&&n!=n}function e(e,o){if(n(e,o))return!0;if("object"!=typeof e||null===e||"object"!=typeof o||null===o)return!1;var r=Object.keys(e),u=Object.keys(o);if(r.length!==u.length)return!1;for(var c=0;c<r.length;c++)if(!t.call(o,r[c])||!n(e[r[c]],o[r[c]]))return!1;return!0}var o=function(t,n,e,o){return new(e||(e=Promise))(function(r,u){function c(t){try{i(o.next(t))}catch(t){u(t)}}function l(t){try{i(o.throw(t))}catch(t){u(t)}}function i(t){t.done?r(t.value):new e(function(n){n(t.value)}).then(c,l)}i((o=o.apply(t,n||[])).next())})};Context.activeRouter=function(){let t={};const n=[];function r(n){return 0===Object.keys(t).length?{location:{pathname:Context.window.location.pathname,search:Context.window.location.search}}:n?t[n]:t}function u(){return o(this,void 0,void 0,function*(){const t=n,o=[],u=r("location").pathname;for(let n=0;n<t.length;n++){let r=null;const c=o.some(e=>null!=e[1]&&null!=e[2]&&e[2]===t[n].groupId);r=c?null:t[n].isMatch(u),e(t[n].lastMatch,r)||(!c&&t[n].groupId?o.unshift([n,r,t[n].groupId]):o.push([n,r,t[n].groupId])),t[n].lastMatch=r}for(const[n,e,r]of o)r&&null!=e?yield t[n].listener(e):t[n].listener(e)})}return{set:function(n){t=Object.assign({},t,n),u()},get:r,subscribe:function(t){!function(t){const e=r("location").pathname,o=t.isMatch(e);if(t.lastMatch=o,t.listener(o),null==t.groupId||null==t.groupIndex||0===n.length)n.push(t);else for(let e=0;e<n.length;e++){const{groupId:o,groupIndex:r}=n[e];if(null==o){n.splice(e,0,t);break}if(o===t.groupId&&r>t.groupIndex){n.splice(e,0,t);break}}}(t);let e=!0;return function(){e&&(function(t){const e=n.indexOf(t);n.splice(e,1)}(t),e=!1)}},dispatch:u}}();