{"title":"Troubleshooting Android Issues","description":"Troubleshooting Android Issues","url":"/docs/android/troubleshooting","contributors":["mlynch","jcesarmobile"],"headings":[{"id":"troubleshooting-android-issues","level":1,"text":"Troubleshooting Android Issues"},{"id":"android-toolbox","level":2,"text":"Android Toolbox"},{"id":"google-google-google","level":3,"text":"Google, Google, Google"},{"id":"clean-rebuild","level":3,"text":"Clean/Rebuild"},{"id":"invalidate-caches-restart","level":3,"text":"Invalidate Caches/Restart"},{"id":"error-unable-to-load-native-bridge-js-capacitor-will-not-function-","level":2,"text":"Error: &quot;Unable to load native-bridge.js. Capacitor will not function!&quot;"},{"id":"error-please-select-android-sdk","level":2,"text":"Error: &quot;Please select Android SDK&quot;"},{"id":"error-apk-can-t-be-installed","level":2,"text":"Error: &quot;APK Can&#39;t be installed&quot;"},{"id":"recreating-your-project","level":2,"text":"Recreating your project"}],"srcPath":"./docs-md/android/troubleshooting.md","content":"\n<h1 id=\"troubleshooting-android-issues\">\n  \n  Troubleshooting Android Issues\n  \n</h1>\n<p>Creating a 100% perfect native management tool is nearly impossible, and sooner or later you&#39;ll run into various issues with some part of the Android workflow.</p>\n<p>This guide attempts to document common Android issues with possible solutions.</p>\n\n<h2 id=\"android-toolbox\">\n  <a class=\"heading-link\" href=\"#android-toolbox\"><app-icon name=\"link\"></app-icon>\n  Android Toolbox\n  </a>\n</h2>\n<p>Every Android developer learns a few common techniques for debugging Android issues, and you should incorporate these into your workflow:</p>\n\n<h3 id=\"google-google-google\">\n  <a class=\"heading-link\" href=\"#google-google-google\"><app-icon name=\"link\"></app-icon>\n  Google, Google, Google\n  </a>\n</h3>\n<p>Any time you encounter an issue with Android, or Gradle, or Emulators, your first step should be to copy and paste the error into a Google search.</p>\n<p>Capacitor uses the standard Android toolkit, so chances are if you run into something, many Android developers have as well, and there&#39;s a solution out there.</p>\n<p>It could be as simple as updating a dependency, running Gradle sync, or invalidating caches.</p>\n\n<h3 id=\"clean-rebuild\">\n  <a class=\"heading-link\" href=\"#clean-rebuild\"><app-icon name=\"link\"></app-icon>\n  Clean/Rebuild\n  </a>\n</h3>\n<p>Cleaning and rebuilding can fix a number of build issues:</p>\n<p><img src=\"/assets/img/docs/android/clean-rebuild.png\" alt=\"Android Clean and Build\"></p>\n\n<h3 id=\"invalidate-caches-restart\">\n  <a class=\"heading-link\" href=\"#invalidate-caches-restart\"><app-icon name=\"link\"></app-icon>\n  Invalidate Caches/Restart\n  </a>\n</h3>\n<p>If you&#39;re confident you fixed an issue, but Android Studio or Gradle doesn&#39;t agree, often the solution is to have Android Studio invalidate its caches and restart the program.</p>\n<p>That can be done easily from the File menu:</p>\n<p><img src=\"/assets/img/docs/android/invalidate-caches.png\" alt=\"Android Invalidate Caches\"></p>\n\n<h2 id=\"error-unable-to-load-native-bridge-js-capacitor-will-not-function-\">\n  <a class=\"heading-link\" href=\"#error-unable-to-load-native-bridge-js-capacitor-will-not-function-\"><app-icon name=\"link\"></app-icon>\n  Error: &quot;Unable to load native-bridge.js. Capacitor will not function!&quot;\n  </a>\n</h2>\n<p>This error occurs when Capacitor&#39;s <code>native-bridge.js</code> file was not copied to the native project.</p>\n<p>The fix is simple: run <code>npx cap copy android</code> to copy this file.</p>\n\n<h2 id=\"error-please-select-android-sdk\">\n  <a class=\"heading-link\" href=\"#error-please-select-android-sdk\"><app-icon name=\"link\"></app-icon>\n  Error: &quot;Please select Android SDK&quot;\n  </a>\n</h2>\n<p>This error is often due to Gradle needing to be synced, something you&#39;ll need to do\nperiodically after updating dependencies and changing project settings.</p>\n<p>To manually sync Gradle, open File -&gt; Sync Project with Gradle Files from the main menu bar:</p>\n<p><img src=\"/assets/img/docs/android/sync-gradle.png\" alt=\"Sync Gradle\"></p>\n\n<h2 id=\"error-apk-can-t-be-installed\">\n  <a class=\"heading-link\" href=\"#error-apk-can-t-be-installed\"><app-icon name=\"link\"></app-icon>\n  Error: &quot;APK Can&#39;t be installed&quot;\n  </a>\n</h2>\n<p>An APK not installing to an Emulator or Device is often due to having an existing app with the same package name. You may see an error like this when trying to run your app:</p>\n<p><img src=\"/assets/img/docs/android/apk-failed.png\" alt=\"Android APK Failed\"></p>\n<p>The solution is to remove any old apps and make sure your package name is up to date in <code>AndroidManifest.xml</code> and not conflicting with other apps you are developing.</p>\n<p>Finally, do a clean and rebuild just in case.</p>\n\n<h2 id=\"recreating-your-project\">\n  <a class=\"heading-link\" href=\"#recreating-your-project\"><app-icon name=\"link\"></app-icon>\n  Recreating your project\n  </a>\n</h2>\n<p>Capacitor lets you manage your own Android project. Like any IDE-backed project, sometimes things get so out of sync that the only solution is to rebuild the project.</p>\n<p>To do this, follow these steps:</p>\n<ol>\n<li>Copy any source code you created (such as Java files in <code>app/android/src</code>, manifest files, or resource files) into a safe location outside of <code>app/android</code>.</li>\n<li>Next, make sure you are running an updated version of the Capacitor CLI: <code>npm install @capacitor/cli@latest</code></li>\n<li>Remove the android directory: <code>rm -rf android/</code></li>\n<li>Re-create the Android app from Capacitor: <code>npx cap add android</code></li>\n<li>Copy your saved source files back into the project</li>\n</ol>\n"}