{"title":"Push Notifications","description":"Push Notifications API","url":"/docs/apis/push-notifications","contributors":["mlynch","jcesarmobile"],"lastUpdated":"2018-06-01T00:00:00.000Z","headings":[{"id":"push-notifications","level":1,"text":"Push Notifications"},{"id":"enabling-push-notifications-capabilites","level":2,"text":"Enabling Push Notifications Capabilites"},{"id":"push-notifications-icon","level":2,"text":"Push Notifications icon"},{"id":"disabling-push-notifications-plugin","level":2,"text":"Disabling Push Notifications plugin"},{"id":"push-notifications-appearance-in-foreground","level":2,"text":"Push notifications appearance in foreground"},{"id":"example","level":2,"text":"Example"},{"id":"api","level":2,"text":"API"}],"srcPath":"./docs-md/apis/push-notifications/index.md","content":"<p><plugin-platforms platforms=\"ios,android\"></plugin-platforms></p>\n\n<h1 id=\"push-notifications\">\n  \n  Push Notifications\n  \n</h1>\n<p>The Push Notifications API provides methods for registering a device to receive notifications from a server, along with processing received notifications and responding to them. In contrast, the <a href=\"../local-notifications\">Local Notifications</a> API provides means for offline, local notification scheduling and processing.</p>\n\n<h2 id=\"enabling-push-notifications-capabilites\">\n  <a class=\"heading-link\" href=\"#enabling-push-notifications-capabilites\"><app-icon name=\"link\"></app-icon>\n  Enabling Push Notifications Capabilites\n  </a>\n</h2>\n<p>On iOS it&#39;s required to enable Push Notifications Capabilities in your project to make Push Notifications plugin work. To do so, go to the <code>Capabilities</code> section of your app and switch the <code>Push Notifications</code> button from <code>OFF</code> to <code>ON</code> possition.</p>\n<p>That will add the push capabilites to your app and will create an entitlements file.</p>\n<p><img src=\"/assets/img/docs/ios/enable-push-capabilities.png\" alt=\"Enabling Push Notifications Capabilities\"></p>\n<p>On Android just download your app&#39;s <code>google-services.json</code> file from Firebase console and put it in <code>projectName/android/app</code> folder.</p>\n\n<h2 id=\"push-notifications-icon\">\n  <a class=\"heading-link\" href=\"#push-notifications-icon\"><app-icon name=\"link\"></app-icon>\n  Push Notifications icon\n  </a>\n</h2>\n<p>On Android, the Push Notifications icon with the appropriate name should be added to the <code>AndroidManifest.xml</code> file:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-xml\"><code class=\"language-xml\">&lt;meta-data android:name=\"com.google.firebase.messaging.default_notification_icon\" android:resource=\"@mipmap/push_icon_name\" /&gt;</code></pre>\n  </highlight-code-line>\n  <p>If no icon is specified Android will use the application icon, but push icon should be white pixels on a transparent backdrop. As the application icon is not usually like that, it will show a white square or circle. So it&#39;s recommended to provide the separate icon for Push Notifications.</p>\n<p>Android Studio has an icon generator you can use to create your Push Notifications icon.</p>\n\n<h2 id=\"disabling-push-notifications-plugin\">\n  <a class=\"heading-link\" href=\"#disabling-push-notifications-plugin\"><app-icon name=\"link\"></app-icon>\n  Disabling Push Notifications plugin\n  </a>\n</h2>\n<p>If you are not using Push Notifications in your project, when you submit the app to iTunes Connect, Apple will send you an email saying it has issues because of <code>Missing Push Notification Entitlement</code>. That happens because Capacitor includes the code for registering for push notifications and getting the token.</p>\n<p>Apple sends that mail just to make sure you didn&#39;t make a mistake and forgot to enable Push Notifications Capabilities in your app, but can safely ignore it if you are not using the Push Notifications plugin.</p>\n<p>In case you don&#39;t want to receive the mail, you can disable the Push Notifications plugin by removing <code>USE_PUSH</code> from <code>Active Compilation Conditions</code> in your project&#39;s Build Settings section.</p>\n<p><img src=\"/assets/img/docs/ios/disable-push-plugin.png\" alt=\"Disable Push Notifications\"></p>\n\n<h2 id=\"push-notifications-appearance-in-foreground\">\n  <a class=\"heading-link\" href=\"#push-notifications-appearance-in-foreground\"><app-icon name=\"link\"></app-icon>\n  Push notifications appearance in foreground\n  </a>\n</h2>\n<p>On iOS you can configure the way the push notifications are displayed when the app is in foreground by providing the <code>presentationOptions</code> in your <code>capacitor.config.json</code> as an Array of Strings you can combine.</p>\n<p>Possible values are:</p>\n<ul>\n<li><code>badge</code>: badge count on the app icon is updated (default value)</li>\n<li><code>sound</code>: the devide will ring/vibrate when the push notification is received</li>\n<li><code>alert</code>: the push notification is displayed in a native dialog</li>\n</ul>\n<p>An empty Array can be provided if none of the previous options are desired. <code>pushNotificationReceived</code> event will still be fired with the push notification information.</p>\n\n  <highlight-code-line >\n    <pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"PushNotifications\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"presentationOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"badge\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"sound\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"alert\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n  </highlight-code-line>\n  <p><plugin-api index=\"true\" name=\"push-notifications\"></plugin-api></p>\n\n<h2 id=\"example\">\n  <a class=\"heading-link\" href=\"#example\"><app-icon name=\"link\"></app-icon>\n  Example\n  </a>\n</h2>\n\n<h2 id=\"api\">\n  <a class=\"heading-link\" href=\"#api\"><app-icon name=\"link\"></app-icon>\n  API\n  </a>\n</h2>\n<p><plugin-api name=\"push-notifications\"></plugin-api></p>\n"}